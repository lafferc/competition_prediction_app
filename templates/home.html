{% extends "base.html" %}

{% load static %}

{% block sub_head %}
<script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
<script>
htmx.onLoad(function(elt){
    var x = elt.getElementsByClassName("toLocalTimeHM");
    var offset = new Date().getTimezoneOffset()*60*1000 ;
    for (i = 0; i < x.length; ++i) {
        var d = new Date(0);
        var t = Date.parse(x[i].innerHTML);
        d.setUTCMilliseconds(t - offset);
        var m = (d.getMinutes() < 10) ? '0' + d.getMinutes() : d.getMinutes();
        x[i].innerHTML = d.getHours() + ':' + m;
    }
});
</script>
{% endblock %}
{% block style %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}?v=0.13.0" type="text/css">
{% endblock %}

{% block content %}

    <div hx-get="{% url 'competition:tournament_list_open' %}"
         hx-trigger="load">
        <img class="htmx-indicator" src="{% static 'img/loading-icon-ball.gif' %}"/>
    </div>

    <div hx-get="{% url 'competition:match_list_todaytomorrow' %}"
         hx-trigger="load">
        <img class="htmx-indicator" src="{% static 'img/loading-icon-ball.gif' %}"/>
    </div>

    <div hx-get="{% url 'competition:tournament_list_closed' %}"
         hx-trigger="load">
        <img class="htmx-indicator" src="{% static 'img/loading-icon-ball.gif' %}"/>
    </div>

{% endblock %}
